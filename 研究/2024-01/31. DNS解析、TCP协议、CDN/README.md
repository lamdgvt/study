#### DNS 解析

```
根域名服务器 .
顶级域名服务器 .com .cn. net .gov
权威域名    bilibili  qq  baidu

DNS 服务器查询域名所对应的 ip 地址
```

#### CDN 内容分发网络

```
Content Delivery Network

这个网络会有很多边缘服务器(距离较近的服务器)提供服务
源服务器 将 静态资源发送给 CDN 进行资源备份

cache-control 缓存控制静态资源保存时间
值:
no-cache
no-store
max-age

```

### TCP协议 UDP协议
```
TCP协议 
三次握手:
1. 客户端       SYN 包 ——>      服务端
2. 服务端     <—— SYN、ACK包    客户端
3. 客户端       ACK 包 ——>      服务端

四次挥手:
1. 客户端           FIN 包 ——>      服务端
2. 客户端           <—— ACK 包      服务端 (close wait)
3. 客户端(wait1)    <—— FIN 包      服务端 (close wait)
4. 客户端(wait2)    ACK 包———>      服务端 (last ack)  *此步骤服务端如果未收到ACK包 会重新执行3.行 发送 FIN包*
5. 客户端(time Wait)                服务端 (Close)
6. 客户端(Close)

UPD协议:
直接发送数据出去, 没有响应状态
```

#### 输入url 到页面渲染 这中间发生了什么
```
1.	DNS 解析url解析成 ip地址。DNS 就是个数据库 根据url 查询数据里对应的 ip地址.
2.	  三次握手建立TCP连接、客户端发送 SYN 数据包、服务器相应SYN 和 ACK 数据包同意建立、客户端发送ACK数据包 成功连接.
3.	发送HTTP 请求报文服务器，请求行、请求头部、空行、请求数据。
4.	响应HTTP 请求，请求行、请求头部、空行、响应数据。
5.	页面渲染、解析HTML、CSS、JS
6.  四次挥手、客户端 或者 服务端都可以发起关闭连接请求
    (1)、客户端发起关闭连接 发送 FIN 包 、进入等待1 状态
    (2)、服务端发送 ACK 包 进入关闭等待状态、 客户端进入等待2状态
    (3)、服务端继续发送 FIN 包 进入确认状态、客户端回复 ACK 包 进入超时等待状态 经过超时关闭连接
    (4)、服务端收到 ACK 包后 马上关闭连接
```
