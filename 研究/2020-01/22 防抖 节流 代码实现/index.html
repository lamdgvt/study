<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Document</title>
	</link>

	<div id="test" style="width: 100%; height: 100%"></div>
</head>

<body>
	<script>
		// 节流
		const throttle = (fn, millisecond = 500) => {
			let timer = null;
			let isOpen = true;

			const openDor = () => timer = setTimeout(() => isOpen = true, millisecond)

			return () => {
				if (isOpen) {
					isOpen = false;
					fn()
					openDor()
				}
			}
		}

		const fn = throttle(() => {
			console.log(1)
		})

		// 防抖
		const debounce = (fn2) => {
			let timer = null;

			return () => {
				timer && clearTimeout(timer)

				timer = setTimeout(() => {
					fn2()
				}, 500)
			}
		}

		const fn2 = debounce(() => {
			console.log(2)
		})



		document.getElementById('test').onmousemove = () => {
			fn()
			fn2()
		}
	</script>
</body>

</html>